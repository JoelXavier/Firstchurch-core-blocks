(()=>{"use strict";var e,t={613(e,t,a){const c=window.React,r=window.wp.element,s=window.wp.i18n,o=window.wp.components,n=window.wp.apiFetch;var l=a.n(n);function i({template:e}){const[t,a]=(0,r.useState)(!1);return(0,c.createElement)(o.Card,{className:"fc-dashboard__card"},(0,c.createElement)("div",{className:"fc-dashboard__card-preview"},(0,c.createElement)("div",{className:"fc-dashboard__card-thumbnail-placeholder"})),(0,c.createElement)(o.CardBody,null,(0,c.createElement)("h3",null,e.title),(0,c.createElement)("p",null,e.description),(0,c.createElement)(o.Button,{variant:"primary",onClick:async()=>{a(!0);try{const t=await l()({path:`/wp/v2/${e.postType}s`,method:"POST",data:{status:"draft",title:`New ${e.title}`,content:`\x3c!-- wp:pattern {"slug":"${e.pattern}"} /--\x3e`}});t&&t.id&&(window.location.href=`post.php?post=${t.id}&action=edit`)}catch(e){console.error("Error creating post:",e),a(!1)}},isBusy:t,disabled:t},(0,s.__)("Use Template","first-church-core-blocks"))))}function d({stats:e}){if(!e)return null;const t=[{label:(0,s.__)("Articles","first-church-core-blocks"),count:e.articles,icon:"dashicons-admin-post"},{label:(0,s.__)("Events","first-church-core-blocks"),count:e.events,icon:"dashicons-calendar-alt"},{label:(0,s.__)("Locations","first-church-core-blocks"),count:e.locations,icon:"dashicons-location"},{label:(0,s.__)("Pages","first-church-core-blocks"),count:e.pages,icon:"dashicons-admin-page"}];return(0,c.createElement)("div",{className:"fc-dashboard__stats-grid"},t.map((e,t)=>(0,c.createElement)("div",{key:t,className:"fc-dashboard__stat-card"},(0,c.createElement)("span",{className:`dashicons ${e.icon} fc-dashboard__stat-icon`}),(0,c.createElement)("div",{className:"fc-dashboard__stat-content"},(0,c.createElement)("span",{className:"fc-dashboard__stat-count"},e.count),(0,c.createElement)("span",{className:"fc-dashboard__stat-label"},e.label)))))}function h({items:e}){return e&&0!==e.length?(0,c.createElement)("div",{className:"fc-dashboard__activity-feed"},(0,c.createElement)("h3",{className:"fc-dashboard__section-title"},(0,s.__)("My Recent Drafts","first-church-core-blocks")),(0,c.createElement)("ul",{className:"fc-dashboard__activity-list"},e.map(e=>(0,c.createElement)("li",{key:e.id,className:"fc-dashboard__activity-item"},(0,c.createElement)("div",{className:"fc-dashboard__activity-info"},(0,c.createElement)("a",{href:e.link,className:"fc-dashboard__activity-title"},e.title),(0,c.createElement)("span",{className:"fc-dashboard__activity-meta"},e.type," • ",e.status," • ",e.date)),(0,c.createElement)(o.Button,{href:e.link,variant:"secondary",isSmall:!0,className:"fc-dashboard__activity-btn"},(0,s.__)("Edit","first-church-core-blocks")))))):null}function m(){const[e,t]=(0,r.useState)({templates:[],stats:{},recent:[]}),[a,n]=(0,r.useState)(!0);(0,r.useEffect)(()=>{l()({path:"/firstchurch/v1/templates"}).then(e=>{Array.isArray(e)?t({templates:e,stats:{},recent:[]}):t(e),n(!1)}).catch(e=>{console.error("Error fetching dashboard content:",e),n(!1)})},[]);const{templates:m,stats:_,recent:p}=e;return(0,c.createElement)("div",{className:"fc-dashboard"},(0,c.createElement)("header",{className:"fc-dashboard__header"},(0,c.createElement)("h1",null,(0,s.__)("Welcome! What would you like to create?","first-church-core-blocks"))),!a&&(0,c.createElement)("div",{className:"fc-dashboard__top-grid"},(0,c.createElement)("div",{className:"fc-dashboard__main-column"},(0,c.createElement)("section",{className:"fc-dashboard__section"},(0,c.createElement)(d,{stats:_})),(0,c.createElement)("section",{className:"fc-dashboard__section"},(0,c.createElement)("h2",null,(0,s.__)("Quick Start","first-church-core-blocks")),(0,c.createElement)("div",{className:"fc-dashboard__actions"},(0,c.createElement)(o.Button,{variant:"primary",href:"post-new.php?post_type=post"},(0,s.__)("New Article","first-church-core-blocks")),(0,c.createElement)(o.Button,{variant:"secondary",href:"post-new.php?post_type=event"},(0,s.__)("New Event","first-church-core-blocks")),(0,c.createElement)(o.Button,{variant:"secondary",href:"post-new.php?post_type=location"},(0,s.__)("New Location","first-church-core-blocks")),(0,c.createElement)(o.Button,{variant:"secondary",href:"post-new.php?post_type=page"},(0,s.__)("New Page","first-church-core-blocks"))))),(0,c.createElement)("div",{className:"fc-dashboard__sidebar-column"},(0,c.createElement)(h,{items:p}))),a?(0,c.createElement)("div",{className:"fc-dashboard__loading"},"Loading mission control..."):m.map(e=>(0,c.createElement)("section",{key:e.id,className:"fc-dashboard__section"},(0,c.createElement)("div",{className:"fc-dashboard__section-header"},(0,c.createElement)("h2",null,e.title),(0,c.createElement)("span",{className:"fc-dashboard__post-type-badge"},e.postType.toUpperCase())),(0,c.createElement)("div",{className:"fc-dashboard__grid"},e.templates.map(t=>(0,c.createElement)(i,{key:t.id,template:{...t,postType:e.postType}}))))),!a&&0===m.length&&(0,c.createElement)("p",{className:"fc-dashboard__empty"},(0,s.__)("No templates found.","first-church-core-blocks")))}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("fc-dashboard-root");e&&(0,r.createRoot)(e).render((0,c.createElement)(m,null))})}},a={};function c(e){var r=a[e];if(void 0!==r)return r.exports;var s=a[e]={exports:{}};return t[e](s,s.exports,c),s.exports}c.m=t,e=[],c.O=(t,a,r,s)=>{if(!a){var o=1/0;for(d=0;d<e.length;d++){for(var[a,r,s]=e[d],n=!0,l=0;l<a.length;l++)(!1&s||o>=s)&&Object.keys(c.O).every(e=>c.O[e](a[l]))?a.splice(l--,1):(n=!1,s<o&&(o=s));if(n){e.splice(d--,1);var i=r();void 0!==i&&(t=i)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[a,r,s]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var a in t)c.o(t,a)&&!c.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={945:0,458:0};c.O.j=t=>0===e[t];var t=(t,a)=>{var r,s,[o,n,l]=a,i=0;if(o.some(t=>0!==e[t])){for(r in n)c.o(n,r)&&(c.m[r]=n[r]);if(l)var d=l(c)}for(t&&t(a);i<o.length;i++)s=o[i],c.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return c.O(d)},a=globalThis.webpackChunkfirst_church_core_blocks=globalThis.webpackChunkfirst_church_core_blocks||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=c.O(void 0,[458],()=>c(613));r=c.O(r)})();