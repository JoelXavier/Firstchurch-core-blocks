(()=>{"use strict";var e,t={147(e,t,a){const c=window.React,r=window.wp.element,l=window.wp.i18n,n=window.wp.components,s=window.wp.apiFetch;var o=a.n(s);function i({template:e}){const[t,a]=(0,r.useState)(!1);return(0,c.createElement)(n.Card,{className:"fc-dashboard__card"},(0,c.createElement)("div",{className:"fc-dashboard__card-preview"},(0,c.createElement)("div",{className:"fc-dashboard__card-thumbnail-placeholder"})),(0,c.createElement)(n.CardBody,null,(0,c.createElement)("h3",null,e.title),(0,c.createElement)("p",null,e.description),(0,c.createElement)(n.Button,{variant:"primary",onClick:async()=>{a(!0);try{const t=await o()({path:`/wp/v2/${e.postType}s`,method:"POST",data:{status:"draft",title:`New ${e.title}`,content:`\x3c!-- wp:pattern {"slug":"${e.pattern}"} /--\x3e`}});t&&t.id&&(window.location.href=`post.php?post=${t.id}&action=edit`)}catch(e){console.error("Error creating post:",e),a(!1)}},isBusy:t,disabled:t},(0,l.__)("Use Template","first-church-core-blocks"))))}function m({stats:e}){if(!e)return null;const t=[{label:(0,l.__)("Articles","first-church-core-blocks"),count:e.articles,icon:"dashicons-admin-post"},{label:(0,l.__)("Events","first-church-core-blocks"),count:e.events,icon:"dashicons-calendar-alt"},{label:(0,l.__)("Locations","first-church-core-blocks"),count:e.locations,icon:"dashicons-location"},{label:(0,l.__)("Pages","first-church-core-blocks"),count:e.pages,icon:"dashicons-admin-page"}];return(0,c.createElement)("div",{className:"fc-dashboard__stats-grid"},t.map((e,t)=>(0,c.createElement)("div",{key:t,className:"fc-dashboard__stat-card"},(0,c.createElement)("span",{className:`dashicons ${e.icon} fc-dashboard__stat-icon`}),(0,c.createElement)("div",{className:"fc-dashboard__stat-content"},(0,c.createElement)("span",{className:"fc-dashboard__stat-count"},e.count),(0,c.createElement)("span",{className:"fc-dashboard__stat-label"},e.label)))))}function u({items:e}){return e&&0!==e.length?(0,c.createElement)("div",{className:"fc-dashboard__activity-feed"},(0,c.createElement)("h3",{className:"fc-dashboard__section-title"},(0,l.__)("My Recent Drafts","first-church-core-blocks")),(0,c.createElement)("ul",{className:"fc-dashboard__activity-list"},e.map(e=>(0,c.createElement)("li",{key:e.id,className:"fc-dashboard__activity-item"},(0,c.createElement)("div",{className:"fc-dashboard__activity-info"},(0,c.createElement)("a",{href:e.link,className:"fc-dashboard__activity-title"},e.title),(0,c.createElement)("span",{className:"fc-dashboard__activity-meta"},e.type," â€¢ ",e.status," â€¢ ",e.date)),(0,c.createElement)(n.Button,{href:e.link,variant:"secondary",isSmall:!0,className:"fc-dashboard__activity-btn"},(0,l.__)("Edit","first-church-core-blocks")))))):null}function d({initialData:e,onSaveSuccess:t}){const[a,s]=(0,r.useState)(e||{mainLinks:[],newsItems:[],quickLinks:[]}),[i,m]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),h=(e,t,c)=>{const r={...a};r.mainLinks[e][t]=c,s(r)},_=(e,t,c)=>{const r={...a};r.newsItems[e][t]=c,s(r)},f=(e,t,c)=>{const r={...a};r.quickLinks[e][t]=c,s(r)};return(0,c.createElement)("div",{className:"fc-mega-menu-manager"},(0,c.createElement)("header",{className:"fc-mega-menu-manager__header"},(0,c.createElement)("h2",null,(0,l.__)("Mega Menu Manager","first-church-core-blocks")),(0,c.createElement)("p",null,(0,l.__)("Configure the global navigation columns shared across your site.","first-church-core-blocks"))),u&&(0,c.createElement)(n.Notice,{status:u.type,onDismiss:()=>d(null)},u.message),(0,c.createElement)("div",{className:"fc-mega-menu-manager__panels"},(0,c.createElement)(n.PanelBody,{title:(0,l.__)("Column 1: THE CHURCH","first-church-core-blocks"),initialOpen:!0},a.mainLinks.map((e,t)=>(0,c.createElement)("div",{key:t,className:"fc-menu-item-row"},(0,c.createElement)(n.TextControl,{label:(0,l.__)("Label","first-church-core-blocks"),value:e.label,onChange:e=>h(t,"label",e)}),(0,c.createElement)(n.TextControl,{label:(0,l.__)("URL","first-church-core-blocks"),value:e.url,onChange:e=>h(t,"url",e)})))),(0,c.createElement)(n.PanelBody,{title:(0,l.__)("Column 2: FROM THE TEMPLE (News)","first-church-core-blocks"),initialOpen:!1},a.newsItems.map((e,t)=>(0,c.createElement)("div",{key:t,className:"fc-news-item-editor"},(0,c.createElement)("h4",null,(0,l.__)("News Item","first-church-core-blocks")," ",t+1),(0,c.createElement)(n.TextControl,{label:(0,l.__)("Category","first-church-core-blocks"),value:e.category,onChange:e=>_(t,"category",e)}),(0,c.createElement)(n.TextControl,{label:(0,l.__)("Title","first-church-core-blocks"),value:e.title,onChange:e=>_(t,"title",e)}),(0,c.createElement)(n.TextControl,{label:(0,l.__)("Image URL","first-church-core-blocks"),value:e.image,onChange:e=>_(t,"image",e)}),(0,c.createElement)(n.TextControl,{label:(0,l.__)("Link URL","first-church-core-blocks"),value:e.link,onChange:e=>_(t,"link",e)})))),(0,c.createElement)(n.PanelBody,{title:(0,l.__)("Column 3: QUICK LINKS","first-church-core-blocks"),initialOpen:!1},a.quickLinks.map((e,t)=>(0,c.createElement)("div",{key:t,className:"fc-menu-item-row"},(0,c.createElement)(n.TextControl,{label:(0,l.__)("Label","first-church-core-blocks"),value:e.label,onChange:e=>f(t,"label",e)}),(0,c.createElement)(n.TextControl,{label:(0,l.__)("URL","first-church-core-blocks"),value:e.url,onChange:e=>f(t,"url",e)}))))),(0,c.createElement)("footer",{className:"fc-mega-menu-manager__footer"},(0,c.createElement)(n.Button,{variant:"primary",onClick:()=>{m(!0),d(null),o()({path:"/firstchurch/v1/mega-menu",method:"POST",data:{menuData:a}}).then(()=>{m(!1),d({type:"success",message:(0,l.__)("Mega Menu updated successfully!","first-church-core-blocks")}),t&&t(),setTimeout(()=>d(null),3e3)}).catch(e=>{m(!1),d({type:"error",message:e.message||(0,l.__)("Error saving Mega Menu.","first-church-core-blocks")})})},disabled:i},i?(0,c.createElement)(n.Spinner,null):(0,l.__)("Save Global Menu","first-church-core-blocks"))))}function h({initialData:e,onSaveSuccess:t}){const[a,s]=(0,r.useState)(e||{logoUrl:"",logoTextPrimary:"First Church",logoTextSecondary:"Of Our Lord Jesus Christ",missionText:"",copyrightText:"",socialLinks:[],columns:[{title:"The Church",links:[]},{title:"Ministries",links:[]},{title:"Connect",links:[]},{title:"Give",links:[]}]}),[i,m]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),h=(e,t)=>{s({...a,[e]:t})},_=(e,t,c,r)=>{const l=[...a.columns],n=[...l[e].links];n[t]={...n[t],[c]:r},l[e]={...l[e],links:n},s({...a,columns:l})};return(0,c.createElement)("div",{className:"fc-footer-manager"},(0,c.createElement)("header",{className:"fc-footer-manager__header"},(0,c.createElement)("h2",null,(0,l.__)("Footer Manager","first-church-core-blocks")),(0,c.createElement)("p",null,(0,l.__)("Configure the global footer content, social links, and navigation columns.","first-church-core-blocks"))),u&&(0,c.createElement)(n.Notice,{status:u.type,onDismiss:()=>d(null)},u.message),(0,c.createElement)("div",{className:"fc-footer-manager__panels"},(0,c.createElement)(n.PanelBody,{title:(0,l.__)("Branding & Mission","first-church-core-blocks"),initialOpen:!0},(0,c.createElement)(n.TextControl,{label:(0,l.__)("Logo URL","first-church-core-blocks"),value:a.logoUrl,onChange:e=>h("logoUrl",e)}),(0,c.createElement)(n.TextControl,{label:(0,l.__)("Primary Brand Text","first-church-core-blocks"),value:a.logoTextPrimary,onChange:e=>h("logoTextPrimary",e)}),(0,c.createElement)(n.TextControl,{label:(0,l.__)("Secondary Brand Text","first-church-core-blocks"),value:a.logoTextSecondary,onChange:e=>h("logoTextSecondary",e)}),(0,c.createElement)(n.TextareaControl,{label:(0,l.__)("Mission Statement","first-church-core-blocks"),value:a.missionText,onChange:e=>h("missionText",e)}),(0,c.createElement)(n.TextControl,{label:(0,l.__)("Copyright Text","first-church-core-blocks"),value:a.copyrightText,onChange:e=>h("copyrightText",e)})),(0,c.createElement)(n.PanelBody,{title:(0,l.__)("Social Links","first-church-core-blocks"),initialOpen:!1},a.socialLinks.map((e,t)=>(0,c.createElement)("div",{key:t,className:"fc-menu-item-row",style:{borderBottom:"1px solid #eee",paddingBottom:"10px",marginBottom:"10px"}},(0,c.createElement)("strong",null,e.label),(0,c.createElement)(n.TextControl,{label:(0,l.__)("URL","first-church-core-blocks"),value:e.url,onChange:e=>((e,t,c)=>{const r=[...a.socialLinks];r[e]={...r[e],[t]:c},s({...a,socialLinks:r})})(t,"url",e)})))),(0,c.createElement)("div",{className:"fc-footer-columns-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px",marginTop:"20px"}},a.columns.map((e,t)=>(0,c.createElement)(n.PanelBody,{key:t,title:`${(0,l.__)("Column","first-church-core-blocks")} ${t+1}: ${e.title}`,initialOpen:!1},(0,c.createElement)(n.TextControl,{label:(0,l.__)("Column Title","first-church-core-blocks"),value:e.title,onChange:e=>((e,t)=>{const c=[...a.columns];c[e]={...c[e],title:t},s({...a,columns:c})})(t,e)}),(0,c.createElement)("div",{className:"fc-footer-links-list"},e.links.map((e,r)=>(0,c.createElement)("div",{key:r,className:"fc-menu-item-row",style:{background:"#f9f9f9",padding:"10px",marginBottom:"10px",borderRadius:"4px"}},(0,c.createElement)(n.TextControl,{label:(0,l.__)("Link Label","first-church-core-blocks"),value:e.label,onChange:e=>_(t,r,"label",e)}),(0,c.createElement)(n.TextControl,{label:(0,l.__)("Link URL","first-church-core-blocks"),value:e.url,onChange:e=>_(t,r,"url",e)}),(0,c.createElement)(n.Button,{isDestructive:!0,variant:"link",onClick:()=>((e,t)=>{const c=[...a.columns],r=c[e].links.filter((e,a)=>a!==t);c[e]={...c[e],links:r},s({...a,columns:c})})(t,r)},(0,l.__)("Remove Link","first-church-core-blocks")))),(0,c.createElement)(n.Button,{variant:"secondary",onClick:()=>(e=>{const t=[...a.columns],c=[...t[e].links,{label:"",url:""}];t[e]={...t[e],links:c},s({...a,columns:t})})(t)},(0,l.__)("Add Link","first-church-core-blocks"))))))),(0,c.createElement)("footer",{className:"fc-footer-manager__footer",style:{marginTop:"30px",borderTop:"1px solid #ccc",paddingTop:"20px"}},(0,c.createElement)(n.Button,{variant:"primary",onClick:()=>{m(!0),d(null),o()({path:"/firstchurch/v1/footer-data",method:"POST",data:{footerData:a}}).then(()=>{m(!1),d({type:"success",message:(0,l.__)("Footer updated successfully!","first-church-core-blocks")}),t&&t(),setTimeout(()=>d(null),3e3)}).catch(e=>{m(!1),d({type:"error",message:e.message||(0,l.__)("Error saving Footer.","first-church-core-blocks")})})},disabled:i},i?(0,c.createElement)(n.Spinner,null):(0,l.__)("Save Global Footer","first-church-core-blocks"))))}function _(){const[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)([]),[i,m]=(0,r.useState)(!0),[u,d]=(0,r.useState)(null),[h,_]=(0,r.useState)(null),[f,p]=(0,r.useState)(!1),[b,E]=(0,r.useState)(""),[v,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{(()=>{m(!0);const e=o()({path:"/firstchurch/v1/content?type=event"}),a=o()({path:"/wp/v2/event_category?per_page=100"});Promise.all([e,a]).then(([e,a])=>{t(e),s(a),m(!1)}).catch(e=>{_({type:"error",message:e.message||(0,l.__)("Error loading data.","first-church-core-blocks")}),m(!1)})})()},[]);const k=(e,a,c)=>{let r=c;("_event_start_date"===a||"_event_end_date"===a)&&r&&r.length>10&&(r=r.substr(0,10)),t(t=>{const c=[...t];return c[e]={...c[e],meta:{...c[e].meta,[a]:r}},c})};return i?(0,c.createElement)("div",{className:"fc-dashboard__loading"},(0,c.createElement)(n.Spinner,null)," ",(0,l.__)("Loading events...","first-church-core-blocks")):(0,c.createElement)("div",{className:"fc-content-manager fc-event-manager"},(0,c.createElement)("header",{className:"fc-content-manager__header"},(0,c.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},(0,c.createElement)("div",null,(0,c.createElement)("h2",null,(0,l.__)("Event Manager","first-church-core-blocks")),(0,c.createElement)("p",null,(0,l.__)("Manage event details and metadata for the upcoming feed.","first-church-core-blocks"))),(0,c.createElement)(n.Button,{variant:"primary",icon:"plus",onClick:()=>p(!0),disabled:f},(0,l.__)("Add New Event","first-church-core-blocks")))),h&&(0,c.createElement)(n.Notice,{status:h.type,onDismiss:()=>_(null)},h.message),(0,c.createElement)("div",{className:"fc-content-manager__list"},f&&(0,c.createElement)(n.Card,{className:"fc-content-item-card is-new"},(0,c.createElement)(n.CardHeader,{className:"fc-content-item-header"},(0,c.createElement)("h3",null,(0,l.__)("New Event","first-church-core-blocks"))),(0,c.createElement)(n.CardBody,null,(0,c.createElement)(n.TextControl,{label:(0,l.__)("Event Title","first-church-core-blocks"),value:b,onChange:E,placeholder:(0,l.__)("e.g. Gospel Concert 2026","first-church-core-blocks"),autoFocus:!0})),(0,c.createElement)(n.CardFooter,null,(0,c.createElement)(n.Button,{variant:"primary",onClick:()=>{b.trim()&&(p(!0),_(null),o()({path:"/firstchurch/v1/content/create",method:"POST",data:{type:"event",title:b}}).then(a=>{t([a,...e]),E(""),p(!1),_({type:"success",message:(0,l.__)("New event created! You can now edit its details.","first-church-core-blocks")}),setTimeout(()=>_(null),3e3)}).catch(e=>{_({type:"error",message:e.message||(0,l.__)("Error creating event.","first-church-core-blocks")}),p(!1)}))}},f&&b?(0,l.__)("Create Draft","first-church-core-blocks"):(0,l.__)("Add","first-church-core-blocks")),(0,c.createElement)(n.Button,{variant:"tertiary",onClick:()=>{p(!1),E("")}},(0,l.__)("Cancel","first-church-core-blocks")))),e.map((e,r)=>{const s=e.id===v;return(0,c.createElement)(n.Card,{key:e.id,className:"fc-content-item-card "+(s?"is-expanded":"is-collapsed")},(0,c.createElement)(n.CardHeader,{className:"fc-content-item-header",onClick:()=>g(s?null:e.id)},(0,c.createElement)("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexGrow:1}},(0,c.createElement)("span",{style:{fontSize:"18px",opacity:.5}},s?"âˆ’":"+"),(0,c.createElement)("h3",{style:{margin:0}},e.title),!s&&(0,c.createElement)("div",{className:"fc-content-item-summary"},e.meta._event_start_date&&(0,c.createElement)("span",null,"ğŸ“… ",e.meta._event_start_date),e.meta._event_location&&(0,c.createElement)("span",null,"ğŸ“ ",e.meta._event_location))),(0,c.createElement)("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},e.meta._event_is_canceled&&(0,c.createElement)("span",{className:"fc-status-badge is-archived",style:{background:"#d63638",color:"white"}},(0,l.__)("CANCELED","first-church-core-blocks")),(0,c.createElement)("span",{className:`fc-status-badge is-${e.status}`},e.status))),s&&(0,c.createElement)(c.Fragment,null,(0,c.createElement)(n.CardBody,null,(0,c.createElement)("div",{className:"fc-content-item-grid"},(0,c.createElement)("div",{className:"fc-content-item-col"},(0,c.createElement)("p",null,(0,c.createElement)("strong",null,(0,l.__)("Start Date","first-church-core-blocks"))),(0,c.createElement)(n.DatePicker,{currentDate:e.meta._event_start_date,onChange:e=>k(r,"_event_start_date",e)})),(0,c.createElement)("div",{className:"fc-content-item-col"},(0,c.createElement)("p",null,(0,c.createElement)("strong",null,(0,l.__)("End Date / Complex Schedule","first-church-core-blocks"))),(0,c.createElement)(n.TextareaControl,{value:e.meta._event_schedule||"",onChange:e=>k(r,"_event_schedule",e),placeholder:(0,l.__)("e.g. \nFriday: 7pm - Worship\nSaturday: 10am - Brunch","first-church-core-blocks"),help:(0,l.__)('Overrides "End Date". Enter each line separately.',"first-church-core-blocks"),rows:4})),(0,c.createElement)("div",{className:"fc-content-item-col"},(0,c.createElement)(n.TextControl,{label:(0,l.__)("Location","first-church-core-blocks"),value:e.meta._event_location||"",onChange:e=>k(r,"_event_location",e)}),(0,c.createElement)("div",{style:{marginTop:"16px"}},(0,c.createElement)(n.ToggleControl,{label:(0,l.__)("Cancelled?","first-church-core-blocks"),help:(0,l.__)('Show "Canceled" badge on frontend.',"first-church-core-blocks"),checked:!!e.meta._event_is_canceled,onChange:e=>k(r,"_event_is_canceled",e)})),(0,c.createElement)("div",{style:{marginTop:"16px"}},(0,c.createElement)("p",{style:{marginBottom:"8px"}},(0,c.createElement)("strong",null,(0,l.__)("Categories","first-church-core-blocks"))),(0,c.createElement)("div",{className:"fc-category-list",style:{maxHeight:"150px",overflowY:"auto",border:"1px solid #ddd",padding:"8px",borderRadius:"4px"}},a.length>0?a.map(a=>(0,c.createElement)(n.CheckboxControl,{key:a.id,label:a.name,checked:(e.terms||[]).includes(a.id),onChange:e=>((e,a,c)=>{t(t=>{const r=[...t],l=[...r[e].terms||[]];let n;return n=c?l.includes(a)?l:[...l,a]:l.filter(e=>e!==a),r[e]={...r[e],terms:n},r})})(r,a.id,e)})):(0,c.createElement)("p",{style:{fontStyle:"italic",color:"#666"}},(0,l.__)("No categories found.","first-church-core-blocks"))))),(0,c.createElement)("div",{className:"fc-content-item-col"},(0,c.createElement)(n.TextControl,{label:(0,l.__)("CTA Text","first-church-core-blocks"),value:e.meta._event_cta_text||"",onChange:e=>k(r,"_event_cta_text",e)}),(0,c.createElement)(n.TextControl,{label:(0,l.__)("CTA URL","first-church-core-blocks"),value:e.meta._event_cta_url||"",onChange:e=>k(r,"_event_cta_url",e),placeholder:"https://"}),(0,c.createElement)("div",{style:{marginTop:"16px",borderTop:"1px solid #eee",paddingTop:"16px"}},(0,c.createElement)(n.SelectControl,{label:(0,l.__)("Post Status","first-church-core-blocks"),value:e.status,options:[{label:"Published",value:"publish"},{label:"Draft",value:"draft"},{label:"Private",value:"private"}],onChange:e=>((e,a)=>{t(t=>{const c=[...t];return c[e]={...c[e],status:a},c})})(r,e)}))))),(0,c.createElement)(n.CardFooter,null,(0,c.createElement)(n.Button,{variant:"primary",onClick:()=>(e=>{d(e.id),_(null);const t={...e.meta};t._event_start_date&&t._event_start_date.length>10&&(t._event_start_date=t._event_start_date.substr(0,10)),t._event_start_date&&(!t._event_end_date||t._event_end_date<t._event_start_date)&&(t._event_end_date=t._event_start_date),t._event_end_date&&t._event_end_date.length>10&&(t._event_end_date=t._event_end_date.substr(0,10)),o()({path:"/firstchurch/v1/content/update",method:"POST",data:{id:e.id,meta:t,status:e.status,terms:e.terms||[]}}).then(()=>{d(null),g(null),_({type:"success",message:`${e.title} updated successfully!`}),setTimeout(()=>_(null),3e3)}).catch(e=>{d(null),_({type:"error",message:e.message||(0,l.__)("Error saving event.","first-church-core-blocks")})})})(e),disabled:u===e.id},u===e.id?(0,c.createElement)(n.Spinner,null):(0,l.__)("Save Changes","first-church-core-blocks")),(0,c.createElement)(n.Button,{variant:"link",href:`post.php?post=${e.id}&action=edit`},(0,l.__)("Open in Editor","first-church-core-blocks")))))}),0===e.length&&!f&&(0,c.createElement)("p",{className:"fc-dashboard__empty"},(0,l.__)("No events found.","first-church-core-blocks"))))}function f(){const[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(!0),[i,m]=(0,r.useState)(null),[u,d]=(0,r.useState)(null),[h,_]=(0,r.useState)(!1),[f,p]=(0,r.useState)(""),[b,E]=(0,r.useState)(null);(0,r.useEffect)(()=>{s(!0),o()({path:"/firstchurch/v1/content?type=location"}).then(e=>{t(e),s(!1)}).catch(e=>{d({type:"error",message:e.message||(0,l.__)("Error loading locations.","first-church-core-blocks")}),s(!1)})},[]);const v=(a,c,r)=>{const l=[...e];l[a].meta[c]=r,t(l)};return a?(0,c.createElement)("div",{className:"fc-dashboard__loading"},(0,c.createElement)(n.Spinner,null)," ",(0,l.__)("Loading locations...","first-church-core-blocks")):(0,c.createElement)("div",{className:"fc-content-manager fc-location-manager"},(0,c.createElement)("header",{className:"fc-content-manager__header"},(0,c.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},(0,c.createElement)("div",null,(0,c.createElement)("h2",null,(0,l.__)("Location Manager","first-church-core-blocks")),(0,c.createElement)("p",null,(0,l.__)("Manage service times, status messages, and contact details for all temples.","first-church-core-blocks"))),(0,c.createElement)(n.Button,{variant:"primary",icon:"plus",onClick:()=>_(!0),disabled:h},(0,l.__)("Add New Location","first-church-core-blocks")))),u&&(0,c.createElement)(n.Notice,{status:u.type,onDismiss:()=>d(null)},u.message),(0,c.createElement)("div",{className:"fc-content-manager__list"},h&&(0,c.createElement)(n.Card,{className:"fc-content-item-card is-new"},(0,c.createElement)(n.CardHeader,{className:"fc-content-item-header"},(0,c.createElement)("h3",null,(0,l.__)("New Location","first-church-core-blocks"))),(0,c.createElement)(n.CardBody,null,(0,c.createElement)(n.TextControl,{label:(0,l.__)("Location Name","first-church-core-blocks"),value:f,onChange:p,placeholder:(0,l.__)("e.g. Lacovia Temple","first-church-core-blocks"),autoFocus:!0})),(0,c.createElement)(n.CardFooter,null,(0,c.createElement)(n.Button,{variant:"primary",onClick:()=>{f.trim()&&(_(!0),d(null),o()({path:"/firstchurch/v1/content/create",method:"POST",data:{type:"location",title:f}}).then(a=>{t([a,...e]),p(""),_(!1),E(a.id),d({type:"success",message:(0,l.__)("New location created! You can now edit its details.","first-church-core-blocks")}),setTimeout(()=>d(null),3e3)}).catch(e=>{d({type:"error",message:e.message||(0,l.__)("Error creating location.","first-church-core-blocks")}),_(!1)}))}},h&&f?(0,l.__)("Create Draft","first-church-core-blocks"):(0,l.__)("Add","first-church-core-blocks")),(0,c.createElement)(n.Button,{variant:"tertiary",onClick:()=>{_(!1),p("")}},(0,l.__)("Cancel","first-church-core-blocks")))),e.map((a,r)=>{const s=a.id===b;return(0,c.createElement)(n.Card,{key:a.id,className:"fc-content-item-card "+(s?"is-expanded":"is-collapsed")},(0,c.createElement)(n.CardHeader,{className:"fc-content-item-header",onClick:()=>E(s?null:a.id)},(0,c.createElement)("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexGrow:1}},(0,c.createElement)("span",{style:{fontSize:"18px",opacity:.5}},s?"âˆ’":"+"),(0,c.createElement)("h3",{style:{margin:0}},a.title),!s&&(0,c.createElement)("div",{className:"fc-content-item-summary"},a.meta._location_region&&(0,c.createElement)("span",null,"ğŸ¢ ",a.meta._location_region),a.meta._location_address&&(0,c.createElement)("span",null,"ğŸ“ ",a.meta._location_address.substring(0,40),"..."))),(0,c.createElement)("span",{className:`fc-status-badge is-${a.status}`},a.status)),s&&(0,c.createElement)(c.Fragment,null,(0,c.createElement)(n.CardBody,null,(0,c.createElement)("div",{className:"fc-content-item-grid"},(0,c.createElement)("div",{className:"fc-content-item-col"},(0,c.createElement)(n.TextControl,{label:(0,l.__)("Region / Title Override","first-church-core-blocks"),value:a.meta._location_region||"",onChange:e=>v(r,"_location_region",e)}),(0,c.createElement)(n.TextControl,{label:(0,l.__)("Status Message (RED)","first-church-core-blocks"),value:a.meta._location_status||"",onChange:e=>v(r,"_location_status",e)})),(0,c.createElement)("div",{className:"fc-content-item-col"},(0,c.createElement)(n.TextareaControl,{label:(0,l.__)("Address","first-church-core-blocks"),value:a.meta._location_address||"",onChange:e=>v(r,"_location_address",e),rows:3})),(0,c.createElement)("div",{className:"fc-content-item-col"},(0,c.createElement)(n.TextareaControl,{label:(0,l.__)("Service Times","first-church-core-blocks"),value:a.meta._location_times||"",onChange:e=>v(r,"_location_times",e),rows:3})),(0,c.createElement)("div",{className:"fc-content-item-col"},(0,c.createElement)(n.TextControl,{label:(0,l.__)("Phone","first-church-core-blocks"),value:a.meta._location_phone||"",onChange:e=>v(r,"_location_phone",e)}),(0,c.createElement)(n.TextControl,{label:(0,l.__)("Map Embed URL","first-church-core-blocks"),value:a.meta._location_map_embed||"",onChange:e=>v(r,"_location_map_embed",e)}),(0,c.createElement)(n.ToggleControl,{label:(0,l.__)("International?","first-church-core-blocks"),help:(0,l.__)("Mark as an international location.","first-church-core-blocks"),checked:!!a.meta._location_is_international,onChange:e=>v(r,"_location_is_international",e)}),(0,c.createElement)("div",{style:{marginTop:"16px",borderTop:"1px solid #eee",paddingTop:"16px"}},(0,c.createElement)(n.SelectControl,{label:(0,l.__)("Post Status","first-church-core-blocks"),value:a.status,options:[{label:"Published",value:"publish"},{label:"Draft",value:"draft"},{label:"Private",value:"private"}],onChange:a=>((a,c)=>{const r=[...e];r[a].status=c,t(r)})(r,a)}))))),(0,c.createElement)(n.CardFooter,null,(0,c.createElement)(n.Button,{variant:"primary",onClick:()=>(e=>{m(e.id),d(null),o()({path:"/firstchurch/v1/content/update",method:"POST",data:{id:e.id,meta:e.meta}}).then(()=>{m(null),E(null),d({type:"success",message:`${e.title} updated successfully!`}),setTimeout(()=>d(null),3e3)}).catch(e=>{m(null),d({type:"error",message:e.message||(0,l.__)("Error saving location.","first-church-core-blocks")})})})(a),disabled:i===a.id},i===a.id?(0,c.createElement)(n.Spinner,null):(0,l.__)("Save Changes","first-church-core-blocks")),(0,c.createElement)(n.Button,{variant:"link",href:`post.php?post=${a.id}&action=edit`},(0,l.__)("Open in Editor","first-church-core-blocks")))))}),0===e.length&&!h&&(0,c.createElement)("p",{className:"fc-dashboard__empty"},(0,l.__)("No locations found.","first-church-core-blocks"))))}function p(){const[e,t]=(0,r.useState)({templates:[],stats:{},recent:[],megaMenuData:null,footerData:null}),[a,s]=(0,r.useState)(!0),p=()=>{s(!0),o()({path:"/firstchurch/v1/templates"}).then(e=>{t(e),s(!1)}).catch(e=>{console.error("Error fetching dashboard content:",e),s(!1)})};(0,r.useEffect)(()=>{p()},[]);const{templates:b,stats:E,recent:v,megaMenuData:g,footerData:k}=e;return(0,c.createElement)("div",{className:"fc-dashboard"},(0,c.createElement)("header",{className:"fc-dashboard__header"},(0,c.createElement)("h1",null,(0,l.__)("Welcome! What would you like to create?","first-church-core-blocks"))),a?(0,c.createElement)("div",{className:"fc-dashboard__loading"},"Loading mission control..."):(0,c.createElement)(n.TabPanel,{className:"fc-dashboard__tabs",activeClass:"is-active",tabs:[{name:"templates",title:(0,l.__)("Templates","first-church-core-blocks"),className:"fc-dashboard-tab-templates"},{name:"megamenu",title:(0,l.__)("Mega Menu","first-church-core-blocks"),className:"fc-dashboard-tab-megamenu"},{name:"footer",title:(0,l.__)("Footer","first-church-core-blocks"),className:"fc-dashboard-tab-footer"},{name:"events",title:(0,l.__)("Events","first-church-core-blocks"),className:"fc-dashboard-tab-events"},{name:"locations",title:(0,l.__)("Locations","first-church-core-blocks"),className:"fc-dashboard-tab-locations"}]},e=>"megamenu"===e.name?(0,c.createElement)(d,{initialData:g,onSaveSuccess:p}):"footer"===e.name?(0,c.createElement)(h,{initialData:k,onSaveSuccess:p}):"events"===e.name?(0,c.createElement)(_,null):"locations"===e.name?(0,c.createElement)(f,null):(0,c.createElement)("div",{className:"fc-dashboard__templates-view"},(0,c.createElement)("div",{className:"fc-dashboard__top-grid"},(0,c.createElement)("div",{className:"fc-dashboard__main-column"},(0,c.createElement)("section",{className:"fc-dashboard__section"},(0,c.createElement)(m,{stats:E})),(0,c.createElement)("section",{className:"fc-dashboard__section"},(0,c.createElement)("h2",null,(0,l.__)("Quick Start","first-church-core-blocks")),(0,c.createElement)("div",{className:"fc-dashboard__actions"},(0,c.createElement)(n.Button,{variant:"primary",href:"post-new.php?post_type=post"},(0,l.__)("New Article","first-church-core-blocks")),(0,c.createElement)(n.Button,{variant:"secondary",href:"post-new.php?post_type=event"},(0,l.__)("New Event","first-church-core-blocks")),(0,c.createElement)(n.Button,{variant:"secondary",href:"post-new.php?post_type=location"},(0,l.__)("New Location","first-church-core-blocks")),(0,c.createElement)(n.Button,{variant:"secondary",href:"post-new.php?post_type=page"},(0,l.__)("New Page","first-church-core-blocks"))))),(0,c.createElement)("div",{className:"fc-dashboard__sidebar-column"},(0,c.createElement)(u,{items:v}))),b.map(e=>(0,c.createElement)("section",{key:e.id,className:"fc-dashboard__section"},(0,c.createElement)("div",{className:"fc-dashboard__section-header"},(0,c.createElement)("h2",null,e.title),(0,c.createElement)("span",{className:"fc-dashboard__post-type-badge"},e.postType.toUpperCase())),(0,c.createElement)("div",{className:"fc-dashboard__grid"},e.templates.map(t=>(0,c.createElement)(i,{key:t.id,template:{...t,postType:e.postType}}))))),0===b.length&&(0,c.createElement)("p",{className:"fc-dashboard__empty"},(0,l.__)("No templates found.","first-church-core-blocks")))))}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("fc-dashboard-root");e&&(0,r.createRoot)(e).render((0,c.createElement)(p,null))})}},a={};function c(e){var r=a[e];if(void 0!==r)return r.exports;var l=a[e]={exports:{}};return t[e](l,l.exports,c),l.exports}c.m=t,e=[],c.O=(t,a,r,l)=>{if(!a){var n=1/0;for(m=0;m<e.length;m++){for(var[a,r,l]=e[m],s=!0,o=0;o<a.length;o++)(!1&l||n>=l)&&Object.keys(c.O).every(e=>c.O[e](a[o]))?a.splice(o--,1):(s=!1,l<n&&(n=l));if(s){e.splice(m--,1);var i=r();void 0!==i&&(t=i)}}return t}l=l||0;for(var m=e.length;m>0&&e[m-1][2]>l;m--)e[m]=e[m-1];e[m]=[a,r,l]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var a in t)c.o(t,a)&&!c.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={945:0,1458:0};c.O.j=t=>0===e[t];var t=(t,a)=>{var r,l,[n,s,o]=a,i=0;if(n.some(t=>0!==e[t])){for(r in s)c.o(s,r)&&(c.m[r]=s[r]);if(o)var m=o(c)}for(t&&t(a);i<n.length;i++)l=n[i],c.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return c.O(m)},a=globalThis.webpackChunkfirst_church_core_blocks=globalThis.webpackChunkfirst_church_core_blocks||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=c.O(void 0,[1458],()=>c(147));r=c.O(r)})();