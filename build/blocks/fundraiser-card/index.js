(()=>{"use strict";var e,r={290(e,r,t){const a=window.wp.blocks,l=window.React,n=window.wp.i18n,c=window.wp.blockEditor,s=window.wp.components,o=window.wp.element,i=window.wp.apiFetch;var u=t.n(i);const d=JSON.parse('{"apiVersion":3,"name":"firstchurch/fundraiser-card","version":"0.1.0","title":"Fundraiser Card","category":"firstchurch","icon":"money-alt","description":"A standalone card for fundraising campaigns with progress tracking.","supports":{"html":false,"spacing":{"margin":true,"padding":true,"blockGap":true},"typography":{"fontSize":true,"lineHeight":true}},"attributes":{"label":{"type":"string","default":"CAMPAIGN"},"title":{"type":"string","default":"Convention Center Fundraiser"},"description":{"type":"string","default":"Help us build the future of First Church."},"useDashboardData":{"type":"boolean","default":false},"fundraiserId":{"type":"number"},"goalAmount":{"type":"number","default":1000000},"raisedAmount":{"type":"number","default":250000},"showProgress":{"type":"boolean","default":true},"linkText":{"type":"string","default":"MAKE A SACRIFICE"},"linkUrl":{"type":"string","default":"#"}},"textdomain":"first-church-core-blocks","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","render":"file:./render.php"}');(0,a.registerBlockType)(d.name,{...d,edit:function({attributes:e,setAttributes:r}){const{label:t,title:a,description:i,useDashboardData:d,fundraiserId:f,goalAmount:m,raisedAmount:h,showProgress:p,linkText:_,linkUrl:b}=e,[g,v]=(0,o.useState)([]),[k,E]=(0,o.useState)(!1);(0,o.useEffect)(()=>{d&&(E(!0),u()({path:"/firstchurch/v1/templates"}).then(e=>{v(e.fundraiserData||[]),E(!1)}).catch(()=>{E(!1)}))},[d]);const C=g.find(e=>e.id===f)||null,y=d&&C?C.goal:m,w=d&&C?C.raised:h,x=d&&C?C.title:a,N=Math.min(100,Math.max(0,w/y*100))||0,T=(0,c.useBlockProps)({className:"fc-fundraiser-card"}),A=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(c.InspectorControls,null,(0,l.createElement)(s.PanelBody,{title:(0,n.__)("Data Settings","first-church-core-blocks")},(0,l.createElement)(s.ToggleControl,{label:(0,n.__)("Use Dashboard Data","first-church-core-blocks"),help:(0,n.__)("Pull progress data from Mission Control.","first-church-core-blocks"),checked:d,onChange:e=>r({useDashboardData:e})}),d&&(k?(0,l.createElement)(s.Spinner,null):(0,l.createElement)(s.SelectControl,{label:(0,n.__)("Select Campaign","first-church-core-blocks"),value:f,options:[{label:(0,n.__)("Select a campaign...","first-church-core-blocks"),value:""},...g.map(e=>({label:e.title,value:e.id}))],onChange:e=>r({fundraiserId:parseInt(e)})}))),(0,l.createElement)(s.PanelBody,{title:(0,n.__)("Content","first-church-core-blocks")},(0,l.createElement)(s.TextControl,{label:(0,n.__)("Label","first-church-core-blocks"),value:t,onChange:e=>r({label:e})}),!d&&(0,l.createElement)(s.TextControl,{label:(0,n.__)("Title","first-church-core-blocks"),value:a,onChange:e=>r({title:e})}),(0,l.createElement)(s.TextControl,{label:(0,n.__)("Description","first-church-core-blocks"),value:i,onChange:e=>r({description:e})})),!d&&(0,l.createElement)(s.PanelBody,{title:(0,n.__)("Manual Metrics","first-church-core-blocks")},(0,l.createElement)(s.TextControl,{label:(0,n.__)("Goal Amount ($)","first-church-core-blocks"),type:"number",value:m,onChange:e=>r({goalAmount:parseInt(e)||0})}),(0,l.createElement)(s.TextControl,{label:(0,n.__)("Raised Amount ($)","first-church-core-blocks"),type:"number",value:h,onChange:e=>r({raisedAmount:parseInt(e)||0})})),(0,l.createElement)(s.PanelBody,{title:(0,n.__)("Call to Action","first-church-core-blocks")},(0,l.createElement)(s.ToggleControl,{label:(0,n.__)("Show Progress Bar","first-church-core-blocks"),checked:p,onChange:e=>r({showProgress:e})}),(0,l.createElement)(s.TextControl,{label:(0,n.__)("Button Text","first-church-core-blocks"),value:_,onChange:e=>r({linkText:e})}),(0,l.createElement)(s.TextControl,{label:(0,n.__)("Button URL","first-church-core-blocks"),value:b,onChange:e=>r({linkUrl:e})}))),(0,l.createElement)("div",{...T},(0,l.createElement)("div",{className:"fc-fundraiser-card__inner"},(0,l.createElement)("span",{className:"fc-fundraiser-card__label"},t),(0,l.createElement)("h3",{className:"fc-fundraiser-card__title"},x),(0,l.createElement)("p",{className:"fc-fundraiser-card__description"},i),p&&(0,l.createElement)("div",{className:"fc-fundraiser-card__progress-container"},(0,l.createElement)("div",{className:"fc-fundraiser-card__metrics"},(0,l.createElement)("div",{className:"fc-fundraiser-card__metric-group"},(0,l.createElement)("span",{className:"fc-fundraiser-card__metric-label"},"Raised"),(0,l.createElement)("span",{className:"fc-fundraiser-card__metric-val"},A(w))),(0,l.createElement)("div",{className:"fc-fundraiser-card__metric-group"},(0,l.createElement)("span",{className:"fc-fundraiser-card__metric-label"},"Goal"),(0,l.createElement)("span",{className:"fc-fundraiser-card__metric-val"},A(y)))),(0,l.createElement)("div",{className:"fc-fundraiser-card__progress-track"},(0,l.createElement)("div",{className:"fc-fundraiser-card__progress-fill",style:{width:`${N}%`}}))),(0,l.createElement)("div",{className:"fc-fundraiser-card__footer"},(0,l.createElement)("span",{className:"fc-fundraiser-card__button disabled-in-editor"},_)))))},save:()=>null})}},t={};function a(e){var l=t[e];if(void 0!==l)return l.exports;var n=t[e]={exports:{}};return r[e](n,n.exports,a),n.exports}a.m=r,e=[],a.O=(r,t,l,n)=>{if(!t){var c=1/0;for(u=0;u<e.length;u++){for(var[t,l,n]=e[u],s=!0,o=0;o<t.length;o++)(!1&n||c>=n)&&Object.keys(a.O).every(e=>a.O[e](t[o]))?t.splice(o--,1):(s=!1,n<c&&(c=n));if(s){e.splice(u--,1);var i=l();void 0!==i&&(r=i)}}return r}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[t,l,n]},a.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return a.d(r,{a:r}),r},a.d=(e,r)=>{for(var t in r)a.o(r,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={1083:0,3251:0};a.O.j=r=>0===e[r];var r=(r,t)=>{var l,n,[c,s,o]=t,i=0;if(c.some(r=>0!==e[r])){for(l in s)a.o(s,l)&&(a.m[l]=s[l]);if(o)var u=o(a)}for(r&&r(t);i<c.length;i++)n=c[i],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},t=globalThis.webpackChunkfirst_church_core_blocks=globalThis.webpackChunkfirst_church_core_blocks||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var l=a.O(void 0,[3251],()=>a(290));l=a.O(l)})();